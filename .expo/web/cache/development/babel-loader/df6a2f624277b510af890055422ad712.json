{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport React, { useState } from \"react\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Button, HelperText, TextInput } from \"react-native-paper\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { auth } from \"../config/firebase\";\nimport { styles } from \"../config/styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var LoginScreen = function LoginScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState({\n      value: \"\",\n      error: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState({\n      value: \"\",\n      error: \"\"\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    mostraErro = _useState6[0],\n    setMostraErro = _useState6[1];\n  var _ref2 = route.params || false,\n    mensagem = _ref2.mensagem;\n  function onLoginPressed() {\n    console.log(\"LoginIniciado\");\n    if (email.value === \"\" || password.value === \"\") {\n      setEmail(_objectSpread(_objectSpread({}, email), {}, {\n        error: \"Entre com um e-mail vÃ¡lido\"\n      }));\n      setPassword(_objectSpread(_objectSpread({}, password), {}, {\n        error: \"Entre com uma senha\"\n      }));\n      return;\n    }\n    signInWithEmailAndPassword(auth, email.value, password.value).then(function (userCredential) {\n      var user = userCredential.user;\n      navigation.navigate(\"HomeNavigation\");\n    }).catch(function (error) {\n      lidarComErro(error.code);\n    });\n  }\n  function lidarComErro(erro) {\n    if (erro == \"auth/wrong-password\") {\n      setMostraErro(\"Senha errada ðŸ˜•\");\n      return;\n    }\n    if (erro == \"auth/user-not-found\") {\n      setMostraErro(\"UsuÃ¡rio nÃ£o encontrado ðŸ˜•\");\n      return;\n    }\n    if (erro == \"auth/invalid-email\") {\n      setMostraErro(\"E-mail invÃ¡lido ðŸ˜•\");\n      return;\n    }\n    setMostraErro(erro);\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      source: {\n        uri: require(\"../../assets/nike.jpg\")\n      },\n      style: {\n        width: 200,\n        height: 200,\n        marginBottom: 20\n      },\n      resizeMode: \"contain\"\n    }), mensagem && _jsx(HelperText, {\n      type: \"info\",\n      children: mensagem\n    }), _jsx(HelperText, {\n      type: \"error\",\n      children: mostraErro\n    }), _jsx(TextInput, {\n      label: \"Digite seu E-mail\",\n      value: email.value,\n      onChangeText: function onChangeText(text) {\n        return setEmail({\n          value: text,\n          error: \"\"\n        });\n      },\n      error: !!email.error,\n      errorText: email.error,\n      style: styles.input\n      ,\n      returnKeyType: \"next\",\n      autoCompleteType: \"email\",\n      textContentType: \"emailAddress\",\n      keyboardType: \"email-address\"\n    }), _jsx(HelperText, {\n      visible: !!email.error,\n      children: email.error\n    }), _jsx(TextInput, {\n      label: \"Senha\",\n      returnKeyType: \"done\",\n      value: password.value,\n      onChangeText: function onChangeText(text) {\n        return setPassword({\n          value: text,\n          error: \"\"\n        });\n      },\n      error: !!password.error,\n      errorText: password.error,\n      secureTextEntry: true,\n      style: styles.input\n    }), _jsx(View, {\n      style: styles.esqueceuSenha,\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"ForgotPasswordScreen\");\n        },\n        children: _jsx(Text, {\n          style: styles.label,\n          children: \"Esqueceu sua senha?\"\n        })\n      })\n    }), _jsx(Button, {\n      mode: \"contained\",\n      onPress: onLoginPressed,\n      children: \"Login\"\n    }), _jsxs(View, {\n      style: styles.row,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"N\\xE3o possui uma conta? \"\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"RegisterScreen\");\n        },\n        children: _jsx(Text, {\n          style: styles.link,\n          children: \"Cadastrar\"\n        })\n      })]\n    })]\n  });\n};","map":{"version":3,"names":["signInWithEmailAndPassword","React","useState","Button","HelperText","TextInput","auth","styles","LoginScreen","route","navigation","value","error","email","setEmail","password","setPassword","mostraErro","setMostraErro","params","mensagem","onLoginPressed","console","log","then","userCredential","user","navigate","catch","lidarComErro","code","erro","container","uri","require","width","height","marginBottom","text","input","esqueceuSenha","label","row","link"],"sources":["/home/senac/LoginScreenReactNativePaper/src/screens/LoginScreen.jsx"],"sourcesContent":["import { signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport React, { useState } from \"react\";\r\nimport { TouchableOpacity, Text, View } from \"react-native\";\r\nimport { Button, HelperText, TextInput } from \"react-native-paper\";\r\nimport { Image } from \"react-native-web\";\r\nimport { auth } from \"../config/firebase\";\r\nimport { styles } from \"../config/styles\";\r\n\r\nexport const LoginScreen = ({ route, navigation }) => {\r\n  const [email, setEmail] = useState({\r\n    value: \"\",\r\n    error: \"\",\r\n  });\r\n  const [password, setPassword] = useState({\r\n    value: \"\",\r\n    error: \"\",\r\n  });\r\n  const [mostraErro, setMostraErro] = useState(\"\");\r\n  const { mensagem } = route.params || false;\r\n\r\n  function onLoginPressed() {\r\n    console.log(\"LoginIniciado\");\r\n    if (email.value === \"\" || password.value === \"\") {\r\n      setEmail({ ...email, error: \"Entre com um e-mail vÃ¡lido\" });\r\n      setPassword({ ...password, error: \"Entre com uma senha\" });\r\n      return;\r\n    }\r\n    signInWithEmailAndPassword(auth, email.value, password.value)\r\n      .then((userCredential) => {\r\n        const user = userCredential.user;\r\n        navigation.navigate(\"HomeNavigation\");\r\n      })\r\n      .catch((error) => {\r\n        lidarComErro(error.code);\r\n      });\r\n  }\r\n\r\n  function lidarComErro(erro) {\r\n    if (erro == \"auth/wrong-password\") {\r\n      setMostraErro(\"Senha errada ðŸ˜•\");\r\n      return;\r\n    }\r\n    if (erro == \"auth/user-not-found\") {\r\n      setMostraErro(\"UsuÃ¡rio nÃ£o encontrado ðŸ˜•\");\r\n      return;\r\n    }\r\n    if (erro == \"auth/invalid-email\") {\r\n      setMostraErro(\"E-mail invÃ¡lido ðŸ˜•\");\r\n      return;\r\n    }\r\n    setMostraErro(erro);\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n       <Image\r\n        source={{ uri: require(\"../../assets/nike.jpg\") }}\r\n        style={{ width: 200, height: 200, marginBottom: 20 }}\r\n        resizeMode=\"contain\"\r\n      />\r\n      {mensagem && <HelperText type=\"info\">{mensagem}</HelperText>}\r\n      <HelperText type=\"error\">{mostraErro}</HelperText>\r\n      <TextInput\r\n        label=\"Digite seu E-mail\"\r\n        value={email.value}\r\n        onChangeText={(text) => setEmail({ value: text, error: \"\" })}\r\n        error={!!email.error}\r\n        errorText={email.error}\r\n        style={styles.input}\r\n        /* nÃ£o essenciais  */\r\n        returnKeyType=\"next\"\r\n        autoCompleteType=\"email\"\r\n        textContentType=\"emailAddress\"\r\n        keyboardType=\"email-address\"\r\n      />\r\n      <HelperText visible={!!email.error}>{email.error}</HelperText>\r\n      <TextInput\r\n        label=\"Senha\"\r\n        returnKeyType=\"done\"\r\n        value={password.value}\r\n        onChangeText={(text) => setPassword({ value: text, error: \"\" })}\r\n        error={!!password.error}\r\n        errorText={password.error}\r\n        secureTextEntry\r\n        style={styles.input}\r\n      />\r\n      <View style={styles.esqueceuSenha}>\r\n        <TouchableOpacity\r\n          onPress={() => navigation.navigate(\"ForgotPasswordScreen\")}\r\n        >\r\n          <Text style={styles.label}>Esqueceu sua senha?</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n      <Button mode=\"contained\" onPress={onLoginPressed}>\r\n        Login\r\n      </Button>\r\n      <View style={styles.row}>\r\n        <Text style={styles.label}>NÃ£o possui uma conta? </Text>\r\n        <TouchableOpacity onPress={() => navigation.navigate(\"RegisterScreen\")}>\r\n          <Text style={styles.link}>Cadastrar</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}